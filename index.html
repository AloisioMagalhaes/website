<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" type="image/svg+xml" href="https://placehold.co/48x48">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor Seguro</title>
    <script blocking="render" async defer type="text/javascript" src="javascript:" crossorigin="anonymous"
        fetchpriority="high">
        const nonce = btoa(Math.random().toString()).substring(0, 16);
    </script>
</head>

<body>
    <h1>Editor de C칩digo Seguro</h1>
    <iframe id="editorIframe" sandbox="allow-scripts allow-same-origin" style="width: 100%; height: 500px;"></iframe>

    <script>
        const iframe = document.getElementById('editorIframe');
        const doc = iframe.contentWindow.document;

        function createEditor(type, initialContent = "") {
            const editorDoc = `<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Editor de C칩digo</title><style>body { margin: 0; display: flex; flex-direction: column; height: 100%; }#editor { flex-grow: 1; border: none; }</style></head><body><textarea id="editor" style="width: 100%; height: 100%;"></textarea><div id="preview" style="border-top: 1px solid #ccc; padding: 10px;"></div><script nonce="${nonce}">const editor = document.getElementById('editor');editor.value = \`${initialContent}\`;editor.addEventListener('input', () => {const preview = document.getElementById('preview');preview.innerHTML = editor.value;});</script></body></html>`;

            doc.open();
            doc.write(editorDoc);
            doc.close();

        }

        createEditor("html", '<h1>Ol치, Mundo!</h1><p>Edite este c칩digo HTML.</p>');


        // Example of how to create different editor types
        // createEditor("css", "body { color: blue; }");
        // createEditor("javascript", "console.log('Hello from JS');");


    </script>
</body>

</html>
